# Siri 语音指令

你可以通过 Siri 的语音指令启动 JSBox 脚本，并且可以直接在 Siri 界面展示结果或页面。

添加方式有如下两种：

- 脚本设置页面 -> 添加为 -> 添加为 Siri
- 系统设置页面 -> Siri 与搜索 -> 在捷径中找到相应的脚本

---

## 文件内容解读与示例

### 用途说明

本文档介绍了如何为 JSBox 脚本**设置 Siri 语音指令**。这个功能允许用户通过对 Siri 说出自定义的短语来直接触发并运行特定的 JSBox 脚本，实现了真正的“免动手”自动化。

### 核心概念：将脚本注册为 Siri 指令

本质上，这是利用了 iOS 的快捷指令捐赠（Intents Donation）系统。当一个脚本被设置为可通过 Siri 访问时，JSBox 会向系统“捐赠”一个快捷指令。Siri 和系统设置会识别到这个捐赠，并允许用户为其录制一个触发短语。

### 设置方法

文档中提到了两种设置路径，它们最终达成的效果是完全相同的：

1.  **从 JSBox 应用内设置（推荐）**:
    -   在 JSBox 中找到你想要添加语音指令的脚本。
    -   进入脚本的**设置页面**（通常是脚本右上角的菜单）。
    -   选择“添加为” (Add to)。
    -   选择“添加到 Siri” (Add to Siri)。
    -   这时会弹出一个系统界面，让你录制用于触发此脚本的语音短语。例如，你可以录制“检查健康码”。

2.  **从系统设置页面设置**:
    -   打开 iOS 的“设置”应用。
    -   进入“Siri 与搜索”。
    -   在应用列表中找到 JSBox，或者在“所有快捷指令”中查找。
    -   系统会列出最近运行过或被“捐赠”的脚本。你可以从这里为找到的脚本关联一个语音指令。
    -   这种方法通常在你已经运行过一次脚本后，系统才会记录并显示它。

### 示例：创建一个“每日签到”的语音指令

假设你有一个名为 `Daily Check-in.js` 的脚本，它会自动访问某个网站并完成签到操作。

**1. JSBox 脚本 (`Daily Check-in.js`)**

```javascript
// Daily Check-in.js

// 模拟签到操作
$http.get("https://example.com/check-in").then(resp => {
  if (resp.response.statusCode === 200) {
    $device.taptic(2); // 震动反馈
    // 在 Siri 界面显示成功提示
    $intents.finish("签到成功！");
  } else {
    $intents.finish("签到失败，请稍后重试。");
  }
});
```

**2. 设置语音指令**

-   在 JSBox 中，打开 `Daily Check-in.js` 的设置页面。
-   选择“添加到 Siri”。
-   在录制界面，说出你的指令，例如：“**每日签到**”。
-   保存设置。

**3. 运行**

-   激活 Siri（例如，通过说“嘿 Siri”或长按侧边按钮）。
-   说出你录制的指令：“**每日签到**”。

**预期结果**

Siri 会识别你的语音指令，并立即在 Siri 界面中运行 `Daily Check-in.js` 脚本。脚本执行后，Siri 界面会显示“签到成功！”或“签到失败”的结果。

### 总结

Siri 语音指令是连接 JSBox 强大脚本能力和 iOS 系统级便捷操作的桥梁。它让执行自动化脚本变得像和 Siri 对话一样简单自然，极大地提升了脚本的实用性和使用频率。任何需要快速、重复执行的任务都非常适合通过这种方式来触发。