# 什么是捷径（Shortcuts）

被 Apple 收购的 Workflow 应用最终被重新塑造成了捷径应用，如果你还不知道这是什么，你可以通过[这篇文章](https://mp.weixin.qq.com/s/JGKnkHNFcz0I_A1n__-JsA)了解一下。

简单说，捷径和 Workflow 基本一样，但能够与 Siri 有更深的结合，同时也可以更好的和第三方应用协作。

当我们在说捷径的时候，指代的是下面两个部分：

- Siri 中的捷径语音指令
- 捷径独立应用（前 Workflow）

# JSBox 如何支持 Shortcuts

就目前而言，我们在 JSBox 上面设计了以下几个功能：

- 通过语音在 Siri 界面运行 JSBox 脚本
- 在 Siri 和捷径应用里面运行 JSBox 脚本
- 在 Siri 界面显示由 JSBox 脚本编写的界面
- 在捷径应用里面利用 JSBox 运行 JavaScript

# 注意事项

- 需要 iOS 12 及以上的系统版本
- 捷径独立应用请在 App Store 安装

---

## 文件内容解读与示例

### 用途说明

本文档是 JSBox 对 iOS **“快捷指令”（Shortcuts）功能**全面支持的**引言**。它解释了快捷指令的背景、组成部分，以及 JSBox 如何与这一强大的自动化平台进行深度集成。通过 JSBox，你可以将复杂的 JavaScript 逻辑封装成易于使用的快捷指令动作，从而极大地扩展 iOS 自动化的可能性。

### 核心概念：快捷指令的本质

-   **背景**: “快捷指令”是 Apple 收购 Workflow 应用后推出的自动化工具。它允许用户通过简单的操作或语音命令，串联多个应用和服务来完成复杂任务。
-   **组成部分**: 当我们谈论“快捷指令”时，通常指代两个主要部分：
    1.  **Siri 中的快捷指令语音指令**: 用户可以通过自定义的语音命令触发预设的自动化流程。
    2.  **“快捷指令”独立应用**: 这是一个可视化编辑器，允许用户创建、编辑和管理自动化流程，将不同应用的动作组合起来。

### JSBox 与快捷指令的集成方式

JSBox 提供了多种方式与快捷指令进行集成，使得你的脚本能够无缝地融入 iOS 的自动化生态：

1.  **通过语音在 Siri 界面运行 JSBox 脚本**: 用户可以录制自定义的 Siri 语音命令，来直接触发 JSBox 脚本的执行。
2.  **在 Siri 和“快捷指令”应用里面运行 JSBox 脚本**: JSBox 脚本可以作为快捷指令流程中的一个动作来执行。这意味着你可以将复杂的 JavaScript 逻辑作为快捷指令的一部分。
3.  **在 Siri 界面显示由 JSBox 脚本编写的界面**: JSBox 脚本可以在 Siri 界面或快捷指令应用中显示自定义的 UI，提供更丰富的交互和信息展示。
4.  **在“快捷指令”应用里面利用 JSBox 运行 JavaScript**: 快捷指令可以调用 JSBox 来执行复杂的 JavaScript 逻辑，弥补快捷指令自身在编程能力上的不足。

### 注意事项

-   **系统版本**: 使用快捷指令功能需要 iOS 12 及以上的系统版本。
-   **应用安装**: “快捷指令”独立应用需要从 App Store 安装。

### 示例：一个简单的“Hello Shortcut”

下面的示例演示了如何创建一个最简单的 JSBox 脚本，并将其集成到快捷指令中。

**1. JSBox 脚本 (`Hello Shortcut.js`)**：

```javascript
// Hello Shortcut.js
// 这个脚本将在快捷指令中运行

// 使用 $intents.finish() 将结果返回给快捷指令
$intents.finish("Hello from JSBox Shortcut!");
```

**2. 在“快捷指令”应用中创建快捷指令**：

-   打开“快捷指令”应用，点击右上角的“+”号创建新快捷指令。
-   点击“添加操作”。
-   搜索“JSBox”，选择“运行 JSBox 脚本”动作。
-   点击“脚本”旁边的蓝色箭头，选择你刚刚创建的 `Hello Shortcut.js` 脚本。
-   点击“添加操作”。
-   搜索“显示提醒”，选择“显示提醒”动作。
-   在“显示提醒”动作中，点击“提醒”旁边的蓝色箭头，选择“脚本结果”。
-   运行这个快捷指令。

**预期结果**：

当你运行这个快捷指令时，它会执行 `Hello Shortcut.js` 脚本，脚本会通过 `$intents.finish()` 返回字符串 `"Hello from JSBox Shortcut!"`。然后，“显示提醒”动作会接收到这个结果，并弹出一个提示框显示这条消息。

### 总结

JSBox 对快捷指令的支持，极大地扩展了 iOS 自动化的可能性。它允许开发者将复杂的 JavaScript 逻辑封装成易于使用的快捷指令动作，从而为用户提供更强大、更个性化的自动化体验。后续文档将详细介绍具体的集成方式。